<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>nRF5 IoT SDK: TLS on nRF5x</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nRF5 IoT SDK
   &#160;<span id="projectnumber">v0.9.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Home</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li><a href="usergroup0.html"><span>Data&#160;Structures</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00430.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">TLS on nRF5x<div class="ingroups"><a class="el" href="a00444.html">Common Modules</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>TLS interface on nRF5x.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00202.html">nrf_tls_instance_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">TLS Instance identifier.  <a href="a00202.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00205.html">nrf_tls_preshared_key_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information needed when using Pre-shared key ciphers.  <a href="a00205.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00206.html">nrf_tls_raw_key_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information provided when using Raw Public key ciphers.  <a href="a00206.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00201.html">nrf_tls_certificate_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Certificate to be used when using certificates for key derivation.  <a href="a00201.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00203.html">nrf_tls_key_settings_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Key settings to be used for TLS instance.  <a href="a00203.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00204.html">nrf_tls_options_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Options when requesting an TLS instance.  <a href="a00204.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga979d1567885d6340f3f5f15483d3bd97"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga979d1567885d6340f3f5f15483d3bd97"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00430.html#ga979d1567885d6340f3f5f15483d3bd97">NRF_TLS_INVALID_INSTANCE_IDENTIFIER</a>&#160;&#160;&#160;0xFFFFFFFF</td></tr>
<tr class="memdesc:ga979d1567885d6340f3f5f15483d3bd97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of TLS instances to be supported. <br/></td></tr>
<tr class="separator:ga979d1567885d6340f3f5f15483d3bd97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga45db421b9008486832ec3cd1232435a7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00430.html#ga45db421b9008486832ec3cd1232435a7">NRF_TLS_INTSANCE_INIT</a>(INSTANCE)</td></tr>
<tr class="memdesc:ga45db421b9008486832ec3cd1232435a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the TLS instance.  <a href="#ga45db421b9008486832ec3cd1232435a7">More...</a><br/></td></tr>
<tr class="separator:ga45db421b9008486832ec3cd1232435a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gac8b9aaa06755c2e333fb1eeff423918a"><td class="memItemLeft" align="right" valign="top">typedef uint32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00430.html#gac8b9aaa06755c2e333fb1eeff423918a">nrf_tls_output_t</a> )(<a class="el" href="a00202.html">nrf_tls_instance_t</a> const *p_instance, uint8_t const *p_data, uint32_t datalen)</td></tr>
<tr class="memdesc:gac8b9aaa06755c2e333fb1eeff423918a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transport write function registered for the instance.  <a href="#gac8b9aaa06755c2e333fb1eeff423918a">More...</a><br/></td></tr>
<tr class="separator:gac8b9aaa06755c2e333fb1eeff423918a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga427594edb043eb4b0f44a95756ea6db2"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00430.html#ga427594edb043eb4b0f44a95756ea6db2">nrf_transport_type_t</a> { <br/>
&#160;&#160;<a class="el" href="a00430.html#gga427594edb043eb4b0f44a95756ea6db2a20c585798c62d99b409e199a7e358f57">NRF_TLS_TYPE_STREAM</a>, 
<br/>
&#160;&#160;<a class="el" href="a00430.html#gga427594edb043eb4b0f44a95756ea6db2abfee38d4ff151bac9add7fc183fa162a">NRF_TLS_TYPE_DATAGRAM</a>
<br/>
 }</td></tr>
<tr class="memdesc:ga427594edb043eb4b0f44a95756ea6db2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transport type definitions. The type determines whether TLS or DTLS shall be used.  <a href="a00430.html#ga427594edb043eb4b0f44a95756ea6db2">More...</a><br/></td></tr>
<tr class="separator:ga427594edb043eb4b0f44a95756ea6db2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabbd56e3e604cd307c60a2b21faacbb25"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00430.html#gabbd56e3e604cd307c60a2b21faacbb25">nrf_tls_role_t</a> { <br/>
&#160;&#160;<a class="el" href="a00430.html#ggabbd56e3e604cd307c60a2b21faacbb25a34993696abe39fe7df8c8912e50c579b">NRF_TLS_ROLE_CLIENT</a>, 
<br/>
&#160;&#160;<a class="el" href="a00430.html#ggabbd56e3e604cd307c60a2b21faacbb25aa75706da3052c97d409625fe521d0aa9">NRF_TLS_ROLE_SERVER</a>
<br/>
 }</td></tr>
<tr class="memdesc:gabbd56e3e604cd307c60a2b21faacbb25"><td class="mdescLeft">&#160;</td><td class="mdescRight">TLS/DTLS roles definition.  <a href="a00430.html#gabbd56e3e604cd307c60a2b21faacbb25">More...</a><br/></td></tr>
<tr class="separator:gabbd56e3e604cd307c60a2b21faacbb25"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga105132616e713c334e3dc2b371b0a7e8"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00430.html#ga105132616e713c334e3dc2b371b0a7e8">nrf_tls_init</a> (void)</td></tr>
<tr class="memdesc:ga105132616e713c334e3dc2b371b0a7e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize TLS interface.  <a href="#ga105132616e713c334e3dc2b371b0a7e8">More...</a><br/></td></tr>
<tr class="separator:ga105132616e713c334e3dc2b371b0a7e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd6ba4436554baf572b37121d5f27e0b"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00430.html#gacd6ba4436554baf572b37121d5f27e0b">nrf_tls_alloc</a> (<a class="el" href="a00202.html">nrf_tls_instance_t</a> *p_instance, <a class="el" href="a00204.html">nrf_tls_options_t</a> const *p_options)</td></tr>
<tr class="memdesc:gacd6ba4436554baf572b37121d5f27e0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate an TLS/DTLS instance.  <a href="#gacd6ba4436554baf572b37121d5f27e0b">More...</a><br/></td></tr>
<tr class="separator:gacd6ba4436554baf572b37121d5f27e0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad76e480870511ed3062320bcb313bb09"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00430.html#gad76e480870511ed3062320bcb313bb09">nrf_tls_free</a> (<a class="el" href="a00202.html">nrf_tls_instance_t</a> const *p_instance)</td></tr>
<tr class="memdesc:gad76e480870511ed3062320bcb313bb09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free the TLS/DTLS instance.  <a href="#gad76e480870511ed3062320bcb313bb09">More...</a><br/></td></tr>
<tr class="separator:gad76e480870511ed3062320bcb313bb09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf4f847174293863c1b546fae8337cc75"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00430.html#gaf4f847174293863c1b546fae8337cc75">nrf_tls_write</a> (<a class="el" href="a00202.html">nrf_tls_instance_t</a> const *p_instance, uint8_t const *p_data, uint32_t *p_datalen)</td></tr>
<tr class="memdesc:gaf4f847174293863c1b546fae8337cc75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data on the TLS/DTLS instance.  <a href="#gaf4f847174293863c1b546fae8337cc75">More...</a><br/></td></tr>
<tr class="separator:gaf4f847174293863c1b546fae8337cc75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ca87c51875a1e206d50ab9277dae867"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00430.html#ga0ca87c51875a1e206d50ab9277dae867">nrf_tls_read</a> (<a class="el" href="a00202.html">nrf_tls_instance_t</a> const *p_instance, uint8_t *p_data, uint32_t *p_datalen)</td></tr>
<tr class="memdesc:ga0ca87c51875a1e206d50ab9277dae867"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from the TLS/DTLS instance.  <a href="#ga0ca87c51875a1e206d50ab9277dae867">More...</a><br/></td></tr>
<tr class="separator:ga0ca87c51875a1e206d50ab9277dae867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa328f63bbc533db0904ed1c8fb3d42f2"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00430.html#gaa328f63bbc533db0904ed1c8fb3d42f2">nrf_tls_input</a> (<a class="el" href="a00202.html">nrf_tls_instance_t</a> const *p_instance, uint8_t const *p_data, uint32_t datalen)</td></tr>
<tr class="memdesc:gaa328f63bbc533db0904ed1c8fb3d42f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to input data read on the transport to the TLS library.  <a href="#gaa328f63bbc533db0904ed1c8fb3d42f2">More...</a><br/></td></tr>
<tr class="separator:gaa328f63bbc533db0904ed1c8fb3d42f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga542332cddc334c70bb842a9b732965f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00430.html#ga542332cddc334c70bb842a9b732965f4">nrf_tls_process</a> (void)</td></tr>
<tr class="memdesc:ga542332cddc334c70bb842a9b732965f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to continue TLS/DTLS operation after a busy state on transport.  <a href="#ga542332cddc334c70bb842a9b732965f4">More...</a><br/></td></tr>
<tr class="separator:ga542332cddc334c70bb842a9b732965f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>TLS interface on nRF5x. </p>
<p>Defines TLS interface for securing UDP/TCP transport using DTLS/TLS respectively. The interface integrates TLS library with needed libraries/drivers on the nRF. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga45db421b9008486832ec3cd1232435a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NRF_TLS_INTSANCE_INIT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">INSTANCE</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span>                                                                                         \</div>
<div class="line">        {                                                                                          \</div>
<div class="line">            (INSTANCE)-&gt;transport_id = <a class="code" href="a00430.html#ga979d1567885d6340f3f5f15483d3bd97" title="Maximum number of TLS instances to be supported.">NRF_TLS_INVALID_INSTANCE_IDENTIFIER</a>;                        \</div>
<div class="line">            (INSTANCE)-&gt;instance_id  = <a class="code" href="a00430.html#ga979d1567885d6340f3f5f15483d3bd97" title="Maximum number of TLS instances to be supported.">NRF_TLS_INVALID_INSTANCE_IDENTIFIER</a>;                        \</div>
<div class="line">        }<span class="keywordflow">while</span>(0)</div>
</div><!-- fragment -->
<p>Initializes the TLS instance. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="gac8b9aaa06755c2e333fb1eeff423918a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t(* nrf_tls_output_t)(<a class="el" href="a00202.html">nrf_tls_instance_t</a> const *p_instance, uint8_t const *p_data, uint32_t datalen)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transport write function registered for the instance. </p>
<p>Function registered with the interface to write on the transport interface. The application shall implement the function registered here to ensure handshake messages and encrypted data can be written by the interface/TLS library on the transport.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_instance</td><td>Identifies the instance on which transport write is requested. Shall not be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_data</td><td>Pointer to data to be written on the instance. Shall not be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">datalen</td><td>Length of data to be written on the transport.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>If the procedure was successful, else an error code indicating reason for failure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gabbd56e3e604cd307c60a2b21faacbb25"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a00430.html#gabbd56e3e604cd307c60a2b21faacbb25">nrf_tls_role_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>TLS/DTLS roles definition. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ggabbd56e3e604cd307c60a2b21faacbb25a34993696abe39fe7df8c8912e50c579b"></a>NRF_TLS_ROLE_CLIENT</em>&nbsp;</td><td class="fielddoc">
<p>Client role. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggabbd56e3e604cd307c60a2b21faacbb25aa75706da3052c97d409625fe521d0aa9"></a>NRF_TLS_ROLE_SERVER</em>&nbsp;</td><td class="fielddoc">
<p>Server role. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga427594edb043eb4b0f44a95756ea6db2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a00430.html#ga427594edb043eb4b0f44a95756ea6db2">nrf_transport_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transport type definitions. The type determines whether TLS or DTLS shall be used. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="gga427594edb043eb4b0f44a95756ea6db2a20c585798c62d99b409e199a7e358f57"></a>NRF_TLS_TYPE_STREAM</em>&nbsp;</td><td class="fielddoc">
<p>TCP transport, TLS to be used for the instance. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga427594edb043eb4b0f44a95756ea6db2abfee38d4ff151bac9add7fc183fa162a"></a>NRF_TLS_TYPE_DATAGRAM</em>&nbsp;</td><td class="fielddoc">
<p>UDP transport, DTLS to be used for the instance. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gacd6ba4436554baf572b37121d5f27e0b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t nrf_tls_alloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00202.html">nrf_tls_instance_t</a> *&#160;</td>
          <td class="paramname"><em>p_instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00204.html">nrf_tls_options_t</a> const *&#160;</td>
          <td class="paramname"><em>p_options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate an TLS/DTLS instance. </p>
<p>This function allocates an instance for TLS/DTLS. Options indicate whether DTLS/TLS will be used and role is server or client.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">p_instance</td><td>Instance with transport id set by the application to identify the transport being secured. If the procedure is successful, the instance id is allocated by the interface. The application is expected to remember the instance information for all subsequent procedures on the transport. Shall not be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_options</td><td>Pointer to options that indicate transport type, role, keys etc. Output function registered is used write TLS/DTLS data on the raw transport (TCP.UDP) for the instance. Shall not be NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd></dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>If the procedure is successful, else, an error code indicating reason for failure. If the procedure succeeds, the application shall use the instance allocated for all subsequent procedures on the instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gad76e480870511ed3062320bcb313bb09"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t nrf_tls_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00202.html">nrf_tls_instance_t</a> const *&#160;</td>
          <td class="paramname"><em>p_instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free the TLS/DTLS instance. </p>
<p>This function frees the instance allocated for TLS/DTLS. All sessions, buffered data related to instance are freed as well by this API.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_instance</td><td>Identifies the instance being freed. Shall not be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>If the procedure is successful, else, an error code indicating reason for failure. If the procedure succeeds, the application shall use the instance allocated for all subsequent procedures on the instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga105132616e713c334e3dc2b371b0a7e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t nrf_tls_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize TLS interface. </p>
<p>This function initializes TLS interface. Initialization includes initializing the TLS library, RNG driver, and any other dependencies. This API shall be called before using any other APIs of the interface.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>If the procedure is successful, else, an error code indicating reason for failure. If the procedure fails, the application shall not proceed with using other APIs of the interface. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaa328f63bbc533db0904ed1c8fb3d42f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t nrf_tls_input </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00202.html">nrf_tls_instance_t</a> const *&#160;</td>
          <td class="paramname"><em>p_instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t const *&#160;</td>
          <td class="paramname"><em>p_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>datalen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to input data read on the transport to the TLS library. </p>
<p>Function to input data read on the transport to TLS library for further processing. Further processing could include advancing the handshake or decrypting the received data based on the state of TLS session.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_instance</td><td>Identifies the instance on which transport write is requested. Shall not be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_data</td><td>Pointer to data to be processed on the instance. Shall not be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">datalen</td><td>Length of data to be written on the transport.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>If the procedure was successful, else an error code indicating reason for failure. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga542332cddc334c70bb842a9b732965f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nrf_tls_process </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to continue TLS/DTLS operation after a busy state on transport. </p>
<p>The transport writes requested by the TLS interface may return failure if transport data flow was off. In order to resume and retry the operations, this function shall be called periodically. This function shall be called in order to ensure TLS interface and the library behaves as expected. </p>

</div>
</div>
<a class="anchor" id="ga0ca87c51875a1e206d50ab9277dae867"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t nrf_tls_read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00202.html">nrf_tls_instance_t</a> const *&#160;</td>
          <td class="paramname"><em>p_instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>p_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>p_datalen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read data from the TLS/DTLS instance. </p>
<p>This function reads data from the TLS/DTLS interface. The read data is decrypted based on cipher configuration and selected cipher during handshake. If no data is available on the instance, the API indicates so with an error code. It is possible to request size of data that can be read by passing a NULL parameter on the data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_instance</td><td>Identifies the instance on which read is requested. Shall not be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_data</td><td>Pointer to data where read data is to be copied. Can be NULL. In case, this parameter is NULL, size of bytes that are available to read is returned in the p_datalen parameter. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">p_datalen</td><td>Pointer to size of data to be read. The application shall ensure that the memory pointed to by p_data parameter is the size indicated. The actual size read can be smaller than requested and is indicated here if the procedure is successful. The application should check for the actual size read. Shall not be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>If the procedure is successful, else, an error code indicating reason for failure. If the procedure succeeds, the application should check for the actual size read. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaf4f847174293863c1b546fae8337cc75"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t nrf_tls_write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00202.html">nrf_tls_instance_t</a> const *&#160;</td>
          <td class="paramname"><em>p_instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t const *&#160;</td>
          <td class="paramname"><em>p_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>p_datalen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write data on the TLS/DTLS instance. </p>
<p>This function writes data on the TLS/DTLS instance. The requested data is encrypted and padded based on cipher configuration and selected cipher during handshake. If no sessions exists already with the peer, a handshake is initiated automatically by the interface, if the role played on the instance is a client role. Requested data to be written is buffered until a session is established.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">p_instance</td><td>Identifies the instance on which write is requested. Shall not be NULL. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">p_data</td><td>Pointer to data to be written on the instance. Shall not be NULL. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">p_datalen</td><td>Pointer to size of data to be written. The actual size written can be smaller than requested and is indicated here if the procedure is successful. The application shall check for the actual size written and make subsequent requests in case the right was partial. Shall not be NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">NRF_SUCCESS</td><td>If the procedure is successful, else, an error code indicating reason for failure. If the procedure succeeds, the application shall check for the actual size written and make subsequent requests in case the right was partial. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Nov 27 2015 13:40:50 for nRF5 IoT SDK by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
